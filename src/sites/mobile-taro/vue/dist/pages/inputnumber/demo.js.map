{"version":3,"file":"pages/inputnumber/demo.js","sources":["webpack:///./src/pages/inputnumber/demo.vue?6790","webpack:///./src/pages/inputnumber/demo.vue","webpack:///./src/pages/inputnumber/index.taro.vue","webpack:///./src/pages/inputnumber/index.taro.vue?44e5","webpack:///./src/pages/inputnumber/demo.vue?bf79","webpack:///./src/pages/inputnumber/demo.vue?6946","webpack:///./src/pages/inputnumber/demo.vue?becf","webpack:///./src/pages/inputnumber/index.taro.vue?5f23","webpack:///./src/pages/inputnumber/index.taro.vue?a402","webpack:///./src/pages/inputnumber/index.taro.vue?b2b9","webpack:///./src/pages/inputnumber/index.taro.vue?6fec"],"sourcesContent":["import { render } from \"./demo.vue?vue&type=template&id=363befe3\"\nimport script from \"./demo.vue?vue&type=script&lang=ts\"\nexport * from \"./demo.vue?vue&type=script&lang=ts\"\nscript.render = render\n/* hot reload */\nif (module.hot) {\n  script.__hmrId = \"363befe3\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('363befe3', script)) {\n    api.reload('363befe3', script)\n  }\n  \n  module.hot.accept(\"./demo.vue?vue&type=template&id=363befe3\", () => {\n    api.rerender('363befe3', render)\n  })\n\n}\n\nscript.__file = \"src/pages/inputnumber/demo.vue\"\n\nexport default script","<template>\n  <div class=\"demo\">\n    <h2>基本用法</h2>\n    <nut-cell>\n      <nut-inputnumber v-model=\"state.val1\" />\n    </nut-cell>\n    <h2>步长设置</h2>\n    <nut-cell>\n      <nut-inputnumber v-model=\"state.val2\" step=\"5\" />\n    </nut-cell>\n    <h2>限制输入范围</h2>\n    <nut-cell>\n      <nut-inputnumber\n        v-model=\"state.val3\"\n        @overlimit=\"overlimit\"\n        min=\"10\"\n        max=\"20\"\n      />\n    </nut-cell>\n    <h2>禁用操作</h2>\n    <nut-cell>\n      <nut-inputnumber v-model=\"state.val4\" disabled />\n    </nut-cell>\n    <h2>只读禁用输入框</h2>\n    <nut-cell>\n      <nut-inputnumber v-model=\"state.val5\" readonly />\n    </nut-cell>\n    <h2>支持小数</h2>\n    <nut-cell>\n      <nut-inputnumber\n        v-model=\"state.val6\"\n        step=\"0.1\"\n        decimal-places=\"1\"\n        readonly\n      />\n    </nut-cell>\n    <h2>支持异步修改</h2>\n    <nut-cell>\n      <nut-inputnumber :model-value=\"state.val8\" @change=\"onChange\" />\n    </nut-cell>\n    <h2>自定义按钮大小</h2>\n    <nut-cell>\n      <nut-inputnumber v-model=\"state.val7\" button-size=\"30\" input-width=\"50\" />\n    </nut-cell>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { reactive, getCurrentInstance } from 'vue';\nimport { createComponent } from './../../../../../../packages/utils/create';\nimport InputNumber from './index.taro.vue';\nimport Cell from './../cell/index.taro.vue';\nconst { createDemo } = createComponent('inputnumber');\nexport default createDemo({\n  props: {},\n  components: {\n    'nut-inputnumber': InputNumber,\n    'nut-cell': Cell\n  },\n  setup() {\n    let { proxy } = getCurrentInstance();\n\n    const state = reactive({\n      val1: 1,\n      val2: 0,\n      val3: 10,\n      val4: 0,\n      val5: 1,\n      val6: 5.5,\n      val7: 1,\n      val8: 1,\n      step: 1.1\n    });\n\n    const onChange = (value: number) => {\n      console.log('异步演示 2 秒后更改');\n      // proxy.$toast.loading('异步演示 2 秒后更改');\n      setTimeout(() => {\n        state.val8 = value;\n        // proxy.$toast.hide();\n      }, 2000);\n    };\n\n    const overlimit = () => {\n      console.log('超出限制事件触发');\n      // proxy.$toast.warn('超出限制事件触发');\n    };\n\n    return {\n      state,\n      onChange,\n      overlimit\n    };\n  }\n});\n</script>\n\n<style lang=\"scss\"></style>\n","<template>\n  <view :class=\"classes\" :style=\"{ height: pxCheck(buttonSize) }\">\n    <nut-icon\n      name=\"minus\"\n      class=\"nut-inputnumber__icon\"\n      :class=\"{ 'nut-inputnumber__icon--disabled': !reduceAllow() }\"\n      :size=\"buttonSize\"\n      @click=\"reduce\"\n    >\n    </nut-icon>\n    <view v-if=\"readonly\" class=\"nut-inputnumber__text--readonly\">\n      {{ modelValue }}\n    </view>\n    <input\n      v-else\n      type=\"number\"\n      :min=\"min\"\n      :max=\"max\"\n      :style=\"{ width: pxCheck(inputWidth) }\"\n      :disabled=\"disabled\"\n      :readonly=\"readonly\"\n      :value=\"modelValue\"\n      @input=\"change\"\n      @blur=\"blur\"\n      @focus=\"focus\"\n    />\n    <nut-icon\n      name=\"plus\"\n      class=\"nut-inputnumber__icon\"\n      :class=\"{ 'nut-inputnumber__icon--disabled': !addAllow() }\"\n      :size=\"buttonSize\"\n      @click=\"add\"\n    >\n    </nut-icon>\n  </view>\n</template>\n<script lang=\"ts\">\nimport { computed } from 'vue';\nimport { createComponent } from './../../../../../../packages/utils/create';\nimport { pxCheck } from './../../../../../../packages/utils/pxCheck';\nimport Icon from './../icon/index.taro.vue';\nconst { componentName, create } = createComponent('inputnumber');\n// console.log(wx.canIUse('console.log'))\nexport default create({\n  props: {\n    modelValue: {\n      type: [Number, String],\n      default: 0\n    },\n    inputWidth: {\n      type: [Number, String],\n      default: ''\n    },\n    buttonSize: {\n      type: [Number, String],\n      default: ''\n    },\n    min: {\n      type: [Number, String],\n      default: 1\n    },\n    max: {\n      type: [Number, String],\n      default: 9999\n    },\n    step: {\n      type: [Number, String],\n      default: 1\n    },\n    decimalPlaces: {\n      type: [Number, String],\n      default: 0\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    readonly: {\n      type: Boolean,\n      default: false\n    }\n  },\n  components: {\n    'nut-icon': Icon\n  },\n  emits: [\n    'update:modelValue',\n    'change',\n    'blur',\n    'focus',\n    'reduce',\n    'add',\n    'overlimit'\n  ],\n\n  setup(props, { emit }) {\n    const classes = computed(() => {\n      const prefixCls = componentName;\n      return {\n        [prefixCls]: true,\n        [`${prefixCls}--disabled`]: props.disabled\n      };\n    });\n\n    const fixedDecimalPlaces = (v: string | number): string => {\n      return Number(v).toFixed(Number(props.decimalPlaces));\n    };\n\n    const change = (event: Event) => {\n      const input = event.target as HTMLInputElement;\n      emit('update:modelValue', input.value, event);\n    };\n\n    const emitChange = (value: string | number, event: Event) => {\n      let output_value: number | string = fixedDecimalPlaces(value);\n      emit('change', output_value, event);\n      emit('update:modelValue', output_value, event);\n    };\n\n    const addAllow = (value = Number(props.modelValue)): boolean => {\n      return value < Number(props.max) && !props.disabled;\n    };\n\n    const reduceAllow = (value = Number(props.modelValue)): boolean => {\n      return value > Number(props.min) && !props.disabled;\n    };\n\n    const reduce = (event: Event) => {\n      emit('reduce', event);\n      if (reduceAllow()) {\n        let output_value = Number(props.modelValue) - Number(props.step);\n        emitChange(output_value, event);\n      } else {\n        emit('overlimit', event);\n      }\n    };\n\n    const add = (event: Event) => {\n      emit('add', event);\n      if (addAllow()) {\n        let output_value = Number(props.modelValue) + Number(props.step);\n        emitChange(output_value, event);\n      } else {\n        emit('overlimit', event);\n      }\n    };\n\n    const blur = (event: Event) => {\n      if (props.disabled) return;\n      if (props.readonly) return;\n      const input = event.target as HTMLInputElement;\n\n      let value = input.value;\n\n      if (value < Number(props.min)) {\n        value = Number(props.min);\n      } else if (value > Number(props.max)) {\n        value = Number(props.max);\n      }\n      emitChange(value, event);\n      emit('blur', event);\n    };\n\n    const focus = (event: Event) => {\n      if (props.disabled) return;\n      if (props.readonly) {\n        console.log(12333);\n        blur();\n        return;\n      }\n      emit('focus', event);\n    };\n\n    return {\n      classes,\n      change,\n      blur,\n      focus,\n      add,\n      addAllow,\n      reduce,\n      reduceAllow,\n      pxCheck\n    };\n  }\n});\n</script>\n\n<style lang=\"scss\">\n@import '../../../../../../packages/__VUE/inputnumber/index.scss';\n</style>\n","// extracted by mini-css-extract-plugin","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/@tarojs/taro-loader/lib/raw.js!./demo.vue\"\nvar config = {};\n\n\nvar inst = Page(createPageConfig(component, 'pages/inputnumber/demo', {root:{cn:[]}}, config || {}))\n\n","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/dist/index.js??ref--10-0!./demo.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/dist/index.js??ref--10-0!./demo.vue?vue&type=script&lang=ts\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/dist/templateLoader.js??ref--6!../../../node_modules/vue-loader/dist/index.js??ref--10-0!./demo.vue?vue&type=template&id=363befe3\"","import { render } from \"./index.taro.vue?vue&type=template&id=64725386\"\nimport script from \"./index.taro.vue?vue&type=script&lang=ts\"\nexport * from \"./index.taro.vue?vue&type=script&lang=ts\"\n\nimport \"./index.taro.vue?vue&type=style&index=0&id=64725386&lang=scss\"\nscript.render = render\n/* hot reload */\nif (module.hot) {\n  script.__hmrId = \"64725386\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('64725386', script)) {\n    api.reload('64725386', script)\n  }\n  \n  module.hot.accept(\"./index.taro.vue?vue&type=template&id=64725386\", () => {\n    api.rerender('64725386', render)\n  })\n\n}\n\nscript.__file = \"src/pages/inputnumber/index.taro.vue\"\n\nexport default script","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/dist/index.js??ref--10-0!./index.taro.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/dist/index.js??ref--10-0!./index.taro.vue?vue&type=script&lang=ts\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/@tarojs/mini-runner/node_modules/css-loader/dist/cjs.js??ref--1-oneOf-0-1!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/@tarojs/mini-runner/node_modules/resolve-url-loader/index.js!../../../node_modules/sass-loader/dist/cjs.js??ref--1-oneOf-0-4!../../../node_modules/vue-loader/dist/index.js??ref--10-0!./index.taro.vue?vue&type=style&index=0&id=64725386&lang=scss\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/dist/templateLoader.js??ref--6!../../../node_modules/vue-loader/dist/index.js??ref--10-0!./index.taro.vue?vue&type=template&id=64725386\""],"mappings":";;;;;;;;;;;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA,aAYA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC2BA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AACA;AAWA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AAxCA;;;;;;;;;;;;;;;;;;;AChBA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAjCA;AAsCA;AACA;AADA;AAGA;AAUA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAWA;AA7IA;;;;;;;;;;;;;;;;;AD1CA;;;AACA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AAQA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AAQA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;;;;;;AAxCA;AAGA;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;;;AACA;AAGA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AACA;AAGA;AAAA;AACA;;AAAA;AAIA;AAHA;AACA;AACA;AACA;;AALA;AAAA;;;;AAMA;AAGA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AACA;AAGA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AACA;AAGA;AAAA;AACA;;AAAA;AAIA;AAHA;AACA;AACA;AACA;;AALA;AAAA;;;;AAMA;AAGA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AACA;AAGA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AACA;;;;;;;;;;;;;;;;;;;;ACjCA;;;;;AATA;AAAA;AAAA;AAAA;AAAA;AAiCA;AA/BA;AACA;AAAA;AAAA;AAEA;AACA;AAEA;;AAPA;AASA;AADA;AAeA;AAVA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;;AAZA;AAcA;AACA;AAAA;AAAA;AAEA;AACA;AAEA;;AAPA;;AAzBA;;;;;;;;;;;;ACDA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAYA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACvBA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;;;;;;;;;;;;;;ACAA;AAAA;AAAA;;;;;A","sourceRoot":""}